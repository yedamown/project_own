<html xmlns:th="http://www.thymeleaf.org"lang="ko">
   <!--CDNìœ¼ë¡œ ì‚¬ìš©í•¨-->
   <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
   <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<!-- Bootstrap CSS -->
<meta charset="utf-8">
<style>
	.tab-wrap {
	  transition: 0.3s box-shadow ease;
	  border-radius: 6px;
	  max-width: 100%;
	  display: flex;
	  flex-wrap: wrap;
	  position: relative;
	  list-style: none;
	  background-color: #fff;
	  margin: 40px 0;
	  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
	}
	
	.tab-wrap:hover {
	  box-shadow: 0 12px 23px rgba(0, 0, 0, 0.23), 0 10px 10px rgba(0, 0, 0, 0.19);
	}
	
	.tab {
	  display: none;
	}
	.tab:checked:nth-of-type(1) ~ .tab__content:nth-of-type(1) {
	  opacity: 1;
	  transition: 0.5s opacity ease-in, 0.8s transform ease;
	  position: relative;
	  top: 0;
	  z-index: 100;
	  transform: translateY(0px);
	  text-shadow: 0 0 0;
	}
	.tab:checked:nth-of-type(2) ~ .tab__content:nth-of-type(2) {
	  opacity: 1;
	  transition: 0.5s opacity ease-in, 0.8s transform ease;
	  position: relative;
	  top: 0;
	  z-index: 100;
	  transform: translateY(0px);
	  text-shadow: 0 0 0;
	}
	.tab:checked:nth-of-type(3) ~ .tab__content:nth-of-type(3) {
	  opacity: 1;
	  transition: 0.5s opacity ease-in, 0.8s transform ease;
	  position: relative;
	  top: 0;
	  z-index: 100;
	  transform: translateY(0px);
	  text-shadow: 0 0 0;
	}
	.tab:checked:nth-of-type(4) ~ .tab__content:nth-of-type(4) {
	  opacity: 1;
	  transition: 0.5s opacity ease-in, 0.8s transform ease;
	  position: relative;
	  top: 0;
	  z-index: 100;
	  transform: translateY(0px);
	  text-shadow: 0 0 0;
	}
	.tab:checked:nth-of-type(5) ~ .tab__content:nth-of-type(5) {
	  opacity: 1;
	  transition: 0.5s opacity ease-in, 0.8s transform ease;
	  position: relative;
	  top: 0;
	  z-index: 100;
	  transform: translateY(0px);
	  text-shadow: 0 0 0;
	}
	.tab:first-of-type:not(:last-of-type) + label {
	  border-top-right-radius: 0;
	  border-bottom-right-radius: 0;
	}
	.tab:not(:first-of-type):not(:last-of-type) + label {
	  border-radius: 0;
	}
	.tab:last-of-type:not(:first-of-type) + label {
	  border-top-left-radius: 0;
	  border-bottom-left-radius: 0;
	}
	.tab:checked + label {
	  background-color: #fff;
	  box-shadow: 0 -1px 0 #fff inset;
	  cursor: default;
	}
	.tab:checked + label:hover {
	  box-shadow: 0 -1px 0 #fff inset;
	  background-color: #fff;
	}
	.tab + label {
	  box-shadow: 0 -1px 0 #eee inset;
	  border-radius: 6px 6px 0 0;
	  cursor: pointer;
	  display: block;
	  text-decoration: none;
	  color: #333;
	  flex-grow: 3;
	  text-align: center;
	  background-color: #f2f2f2;
	  user-select: none;
	  text-align: center;
	  transition: 0.3s background-color ease, 0.3s box-shadow ease;
	  height: 50px;
	  box-sizing: border-box;
	  padding: 15px;
	}
	
	.tab__content {
	  padding: 10px 25px;
	  background-color: transparent;
	  position: absolute;
	  width: 100%;
	  z-index: -1;
	  opacity: 0;
	  left: 0;
	  transform: translateY(-3px);
	  border-radius: 6px;
	}
	.clickBoard {
		color : blue;
		text-decoration : underline;
	}
	ul{
		list-style: none;
	}
</style>
<h1>ì˜µì…˜</h1>
<div style="flex-grow:3; width: 740px" id="subTemplate">
<div class="tab-wrap">
	<input type="hidden" id="bandNo" th:value="${bandNo}">
    <input type="radio" id="tab4" name="tabGroup2" class="tab" checked>
    <label for="tab4">ë°´ë“œì •ë³´</label>

    <input type="radio" id="tab5" name="tabGroup2" class="tab">
    <label for="tab5" id="bandmanage">ë°´ë“œ ìˆ˜ì •</label>

    <input type="radio" id="tab6" name="tabGroup2" class="tab">
    <label for="tab6" id="memberManage">ë©¤ë²„ê´€ë¦¬</label>

    <input type="radio" id="tab7" name="tabGroup2" class="tab">
    <label for="tab7">ê²Œì‹œíŒ ê´€ë¦¬</label>

    <input type="radio" id="tab8" name="tabGroup2" class="tab">
    <label for="tab8" id="bandPass">ë°´ë“œìœ„ì„</label>
  </div>
  <div id="manageTemplate">
	<article style="border: 1px solid #eeeeee;padding:20px 30px 50px 30px; ">
		<div class="container">
			<h4 class="typo-list" style="padding-bottom: 15px">ê²Œì‹œíŒ ê´€ë¦¬</h4>  
			<hr>
			<div style="display: flex;">
				<div style="border: 1px solid #eeeeee;">
					<div>
						<span id="dowwdoww">â¬</span>
						<span id="uppupp">â«</span>
						<span id="doww">ğŸ”½</span>
						<span id="upp">ğŸ”¼</span>
						<span id="pluu">â•</span>
						<span id="linn">â—</span>
						<span id="minn">â–</span>
					</div>
					<div>
						<ul style="border: 15px solid #eeeeee;" id="boardListArray">
	                          <li th:each="board: ${boardList}" class="boards ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>
	                          	<p class="boardLine" th:if="${board.bandBoardLine}!=0" th:name="${board.bandBoardOptionNo}" th:id="${board.bandBoardName}">[[${board.bandBoardName}]] ([[${board.boardNumber}]])</p>
	                          	<b class="boardLine" th:if="${board.bandBoardLine}==0" th:text="${board.bandBoardName}"  th:name="${board.bandBoardOptionNo}" th:id="${board.bandBoardName}"></b>
	                          </li>											
						</ul>
						<div><button type="button" id="boardSaveBtn">ê²Œì‹œíŒ ìˆœì„œ ì €ì¥</button></div>
						<div><button type="button" id="boardSaveReset">ê²Œì‹œíŒ ìˆœì„œ ì´ˆê¸°í™”</button></div>
					</div>
				</div>
				<div style="border: 1px solid #eeeeee;">
					<form id="frm" name="frm">
						<div>
							<input type="hidden" id="bandBoardOptionNo" name="bandBoardOptionNo">
							<input type="hidden" id="bandBoardLine" name="bandBoardLine">
							<input type="hidden" id="bandBoardOrder" name="bandBoardOrder">
							<input type="hidden" id="numberss" name="numberss"class="numberss"><!-- ê¸€ê°œìˆ˜ -->
							<h5 class="typo-list">ë©”ë‰´ëª…</h5>
							<input type="text" id="bandBoardName" name="bandBoardName" maxlength="10">
						</div>
						<div id="linee" style="display: block">
							<div>
								<h5 class="typo-list">ê¶Œí•œ ì„¤ì •</h5>
								<select id="bandBoardAuth" name="bandBoardAuth">
									<option value="BG01" th:selected="${boardList[0].bandBoardAuth}=='BG01'">ê°€ì¹˜ë¦¬ë”</option>
									<option value="BG02" th:selected="${boardList[0].bandBoardAuth}=='BG02'">ì¼ë°˜ë©¤ë²„</option>
								</select>
							</div>
							<div>
								<h5 class="typo-list">ëŒ“ê¸€ ê¸°ëŠ¥</h5>
								<input type="radio" id="bandLikeOption" name="bandLikeOption" value="BH01">
								<input type="radio" id="bandLikeOption2" name="bandLikeOption" value="BH02">
							</div>
							<div>
								<h5 class="typo-list">ì–‘ì‹ ì‚¬ìš©</h5>
								<input type="checkbox" id="conOption" name="conOption" value="T">
								<textarea rows="2" cols="30" id="bandContentOption" name="bandContentOption" style="display: none"  wrap="hard"></textarea>
							</div>
							<div>
								<h5 class="typo-list">ë§ë¨¸ë¦¬</h5>
								<input type="text" id="inputBox" maxlength="8">
								<button type="button" id="reAdd">ì¶”ê°€</button>
								<button type="button" id="reUp">ìˆ˜ì •</button>
								<button type="button" id="reDel">ì‚­ì œ</button>
								<select id="bandBoardRemarks" name="bandBoardRemarks">
									<option selected value="no" disabled>ë§ë¨¸ë¦¬ ì¶”ê°€</option>
									<option></option>
								</select>
							</div>
						</div>
					</form>
					<!-- ì—¬ê¸°ë‹¤ ì €ì¥í•´ë†“ê³  jsì—ì„œ ì˜ë¼ì„œ ì”€ -->
					<input type="hidden" value="" id="saveRemark">
					<!-- ì—¬ê¸°ë‹¤ê°€ íƒœê·¸#íƒœê·¸#ìœ¼ë¡œ ì €ì¥í• ë•Œ ì €ì¥ -->
					<input type="hidden" value="" id="saveRe">
					<div><button type="button" id="savee">ì €ì¥</button></div>
					<div><button type="button" id="resett">ì´ˆê¸°í™”</button></div>
				</div>
			</div>
		</div>
	</article>
  </div>
</div>
<script th:inline="javascript">
var header = /*[[${_csrf.headerName}]]*/
	console.log(header);
var token = /*[[${_csrf.token}]]*/
   console.log(token);
	$(function(){
		//ì´ˆê¸° ë³´ë“œ ì €ì¥
		let boardListSave = new Array();
		let board = new Object;
		/*[# th:each="board : ${boardList}"]*/
		board = new Object;
		board.bandBoardOrder = /*[[${board.bandBoardOrder}]]*/
		board.bandBoardName = /*[[${board.bandBoardName}]]*/
		board.bandBoardAuth = /*[[${board.bandBoardAuth}]]*/
		board.bandLikeOption = /*[[${board.bandLikeOption}]]*/
		board.bandContentOption = /*[[${board.bandContentOption}]]*/
		board.bandBoardRemarks = /*[[${board.bandBoardRemarks}]]*/
		board.bandBoardLine = /*[[${board.bandBoardLine}]]*/
		board.bandBoardOptionNo = /*[[${board.bandBoardOptionNo}]]*/
		board.bandNo = /*[[${board.bandNo}]]*/
		board.boardNumber = /*[[${board.boardNumber}]]*/
		boardListSave.push(board);
		/*[/]*/
		console.log(boardListSave);
		//ë¡œë“œë˜ë©´ ìš°ì„  ì²˜ìŒêº¼ì„ íƒ
		$('.boardLine:eq(0)').addClass('clickBoard');
		console.log(boardListSave[0].bandBoardOptionNo);
		boardLoad(boardListSave[0].bandBoardOptionNo);
		
		//í´ë¦­ì„¤ì •ë¶ˆëŸ¬ì˜¤ê¸°
		$('#boardListArray').on('click', $('.boardLine'), function(e){
			e.stopPropagation();
			//í´ë¦­ì´ë²¤íŠ¸css
			console.log($(e.target).attr('class'))
				if($(e.target).attr('class')=='boardLine'){
				$('.boardLine').each(function (idx, ele){
					$(ele).removeClass('clickBoard');
					//íƒœê·¸ë¹„ì›Œì£¼ê¸°
					$('#saveRemark').val('');
					//ì–‘ì‹ë¹„ì›Œì£¼ê¸°
					$('#bandContentOption').val('');
					$(e.target).addClass('clickBoard');
				})
				$(e.target).addClass('clickBoard');
				//ë³´ë“œì‹ë³„ë²ˆí˜¸ë³´ë‚´ê¸° name="optionNo"
				boardLoad($(e.target).attr('name'));
			}
		})
		//ë³´ë“œ ì‹ë³„ ë²ˆí˜¸ ë°›ì•„ì„œ ì„¤ì •ë¶ˆëŸ¬ì˜¤ê¸°
		function boardLoad(optionNo){
			console.log(optionNo);
			//ele ì— ì €ì¥..
			let ele = "";
			$(boardListSave).each(function(idx, element){
				if(element.bandBoardOptionNo==optionNo){
					ele = element;
				}
			})
			//íˆë“  bandBoardName
			$('#bandBoardOptionNo').val(ele.bandBoardOptionNo);
			//bandBoardName
			$('#bandBoardName').val(ele.bandBoardName);
			//ì¤„
			$('#bandBoardLine').val(ele.bandBoardLine);
			//ìˆœì„œ
			$('#bandBoardOrder').val(ele.bandBoardOrder);
			//ê¸€ ê°œìˆ˜
			$('#numberss').val(ele.boardNumber);
			//ê²Œì‹œíŒì´ë©´
			if(ele.bandBoardLine==1){
				console.log($('#linee'))
				$('#linee').show();
				makeBoardOption(ele);
			} else {
				//ì—¬ê¸´ ì¤„ ì„¤ì •
				$('#linee').hide();
			}
		}
		function makeBoardOption(ele){
			//ê¶Œí•œì„¤ì •
			$('#bandBoardAuth option[value='+ele.bandBoardAuth+']').prop("selected",true);
			//ëŒ“ê¸€
			$('input[name=bandLikeOption]').each(function(idx, i){
				if($(i).val()==ele.bandLikeOption){
					$(i).prop('checked', true);
				}
			})
			//ì–‘ì‹ì‚¬ìš©bandContentOption
			//ìš°ì„  ë¹„ì›Œì£¼ê³ 
			$('#bandContentOption').val('');
			if(ele.bandContentOption!=null){
				$('#conOption').prop('checked', true);
				$('#bandContentOption').show();
				//html<br>íƒœê·¸ ë°”ê¿”ì£¼ê¸°
				let bandContentOption = ele.bandContentOption;
				bandContentOption = bandContentOption.replace(/(<br>|<br\/>|<br \/>)/g, '\r\n');
				$('#bandContentOption').val(bandContentOption);
			} else {
				$('#conOption').prop('checked', false);
				$('#bandContentOption').hide();
			}
			//ë§ë¨¸ë¦¬
			$('#bandBoardRemarks').empty();
			let bandBoardRemarks = $('#bandBoardRemarks');
			bandBoardRemarks.append($('<option disabled selected>ë§ë¨¸ë¦¬ ì¶”ê°€</option>'))
			let tag = '';
			if(ele.bandBoardRemarks!=null){
				//ë§ˆì§€ë§‰ì—# ë–¼ì£¼ê¸°
				tag = (ele.bandBoardRemarks).slice(0, -1);
				let arr = tag.split('#');
				for(let i=0; i<arr.length; i++){
					let r = arr[i];
					let optionTag = $('<option value='+r+'>'+r+'</option>');
					bandBoardRemarks.append(optionTag);
				}
				//ë§ë¨¸ë¦¬ì €ì¥
				$('#saveRemark').val(tag);
			}
		}
		//ì •ê·œì‹
		// íŠ¹ìˆ˜ë¬¸ì ì •ê·œì‹ ë³€ìˆ˜(ê³µë°± ë¯¸í¬í•¨)
        var replaceChar = /[~!@\#$%^&*\()\-=+_'\;<>\/.\`:\"\\,\[\]?|{}]/gi;
 		// ì™„ì„±í˜• ì•„ë‹Œ í•œê¸€ ì •ê·œì‹		
        var replaceNotFullKorean = /[ã„±-ã…ã…-ã…£]/gi;
 		//ê³µë°±
 		var reg = /\s/g;
		//ë§ë¨¸ë¦¬ì„¤ì • ë³µì¡í•´ì„œ ë”°ë¡œ ëºŒ
		//ë§ë¨¸ë¦¬ì¶”ê°€
		$('#reAdd').on('click', function(){
			let inputVal = $('#inputBox').val();
			if(inputVal.match(replaceChar)||inputVal.match(replaceNotFullKorean)||inputVal.replace(/\s/g, "").length==0){
				alert('íŠ¹ìˆ˜ë¬¸ìë¥¼ ì œì™¸í•˜ê³ , ì˜¬ë°”ë¥¸ ê¸€ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.')
				return false;
			}
			//ë¦¬ë§ˆí¬ ì €ì¥í•´ë‘”ê±° ìë¥´ê¸° ì¤‘ë³µì²´í¬
			console.log($('#saveRemark').val());
			let arr = $('#saveRemark').val().split('#');
			console.log(arr);
			for(let a of arr){
				if(a==inputVal){
					alert('ì¤‘ë³µë©ë‹ˆë‹¤.');
					return false;
				}
			}
			arr.push(inputVal);
			let bandBoardRemarks = $('#bandBoardRemarks');
			bandBoardRemarks.append($('<option value='+inputVal+'>'+inputVal+'</option>'))
			
			//ì—¬ê¸°ë„ ì €ì¥
			console.log(arr)
			$('#saveRemark').val(arr.join("#"));
			$('#inputBox').val('');
		})
		//ì…€ë ‰íŠ¸ë°•ìŠ¤ ì´ë²¤íŠ¸
		$('#bandBoardRemarks').on('click', function(){
			$('#inputBox').val($('#bandBoardRemarks option:selected').val());
		})
		//ë§ë¨¸ë¦¬ìˆ˜ì •
		$('#reUp').on('click', function(){
			let inputVal = $('#inputBox').val();
			if(inputVal.match(replaceChar)||inputVal.match(replaceNotFullKorean)||inputVal.replace(/\s/g, "").length==0){
				alert('íŠ¹ìˆ˜ë¬¸ìë¥¼ ì œì™¸í•˜ê³ , ì˜¬ë°”ë¥¸ ê¸€ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.')
				return false;
			}
			
			//ë¦¬ë§ˆí¬ ì €ì¥í•´ë‘”ê±° ìë¥´ê¸°
			console.log($('#saveRemark').val());
			let arr = $('#saveRemark').val().split('#');
			
			//arrì¤‘ selected ëœ ê±° ë½‘ì•„ì˜¨ê±°ì— ë„£ì–´ì£¼ê¸°+ ì¤‘ë³µì²´í¬
			let selVal = $('#bandBoardRemarks option:selected').val();
			if(selVal=='ë§ë¨¸ë¦¬ ì¶”ê°€'){
				alert('ë§ë¨¸ë¦¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.');
				return false;
			}
			//ì¤‘ë³µì²´í¬ ë„£ì—ˆìœ¼ë‹ˆê¹Œ 2ê°œì´ìƒê°™ì€ê²Œ ë‚˜ì˜¤ë©´ ì¤‘ë³µ
			//ìë¦¬ì €ì¥
			console.log(arr);
			let arrNum = '';
			for(let a in arr){
				//ì…€ë ‰í‹°ë“œëœê±°ë‘ aê°’ì´ ê°™ìœ¼ë©´ ë°°ì—´(aì˜ê°’)ì„ ë°”ê¿”ì¤Œ
				console.log('in'+a)
				console.log('arr'+arr[a])
				if(arr[a]==selVal){
					arrNum = a
				}
				if(arr[a]==inputVal){
					alert('ì¤‘ë³µë©ë‹ˆë‹¤.');
					return false;
				}
			}
			//ì—¬ê¸°ì„œ ë°”ê¿”ì£¼ê¸°(ë°°ì—´)
			console.log("ë°”ë€Œê¸°ì „"+arr);
			arr.splice(arrNum, 1, inputVal);
			console.log(arr);
			$('#bandBoardRemarks option:selected').replaceWith($('<option value='+inputVal+' selected>'+inputVal+'</option>'));
			
			//ì—¬ê¸°ë„ ì €ì¥
			$('#saveRemark').val(arr.join("#"));
			$('#inputBox').val('');
		})
		//ë§ë¨¸ë¦¬ì‚­ì œ
		$('#reDel').on('click', function(){
			let selVal = $('#bandBoardRemarks option:selected').val();
			//ë°°ì—´ì²˜ë¦¬
			let arr = $('#saveRemark').val().split('#');
			console.log(arr);
			let arrNum = '';
			
			for(let a in arr){
				//ì…€ë ‰í‹°ë“œëœê±°ë‘ aê°’ì´ ê°™ìœ¼ë©´ ë°°ì—´(aì˜ê°’)ì„ ì‚­ì œí• ê±°ì„
				if(arr[a]==selVal){
					arrNum = a
				}
			}
			//ì—¬ê¸°ì„œ ë°”ê¿”ì£¼ê¸°(ë°°ì—´)
			arr.splice(arrNum, 1);
			console.log(arr);
			//ì—¬ê¸°ë„ ì €ì¥
			$('#saveRemark').val(arr.join("#"));
			//í™”ë©´ìƒì§€ìš°ê¸°
			$('#bandBoardRemarks option:selected').remove();
		})
		//ì–‘ì‹ì„¤ì •ì„
		$('#conOption').on('click', function(){
			if($('#conOption').prop('checked')){
				//ìš°ì„  ë¹„ì›Œì£¼ê³ 
				$('#bandContentOption').val('');
				$('#bandContentOption').show();
				
			} else {
				$('#bandContentOption').val('');
				$('#bandContentOption').hide();
			}
		})
		//ì´ˆê¸°í™”ë²„íŠ¼
		$('#resett').on('click', function(){
			//noë½‘ì•„ì™€ì„œ ëŒë¦¬ê¸°
			console.log('??');
			console.log($('#bandBoardOptionNo').val())
			boardLoad($('#bandBoardOptionNo').val());
		})
		//ë³´ë“œì €ì¥ì˜µì…˜
		$('#savee').on('click', function(){
			let bandNo = $('#bandNo').val();
			let bandBoardLine = $('#bandBoardLine').val();
			let bandBoardName = $('#bandBoardName').val();
			if(bandBoardName.replace(/\s/g, "").length==0){
				alert('ê³µë°±ì œëª© ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.');
				return false;
			}
			let bandBoardOptionNo = $('#bandBoardOptionNo').val();
			let bandBoardOrder = $('#bandBoardOrder').val();
			let data = {bandNo, bandBoardLine, bandBoardName, bandBoardOptionNo, bandBoardOrder}
			//ê²Œì‹œíŒì´ë©´
			if(bandBoardLine==1){
				let bandLikeOption = $('input[name=bandLikeOption]:checked').val()
				console.log(bandLikeOption+"???")
				let bandContentOption = $('#bandContentOption').val();
				//trim ìŠ¤í˜ì´ë§Œ ì…ë ¥ëì„ ê²½ìš°
				if(bandContentOption.replace(/\s/g, "").length==0){
					bandContentOption = null;
				}
				//ê°œí–‰ì¹˜í™˜
				bandContentOption = bandContentOption.replace(/(?:\r\n|\r|\n)/g, '<br/>');
				let bandBoardAuth   = $('#bandBoardAuth').val();
					//aaa#bbb#ccc#ì´ í˜•íƒœë¡œ ì €ì¥í•´ì¤˜ì•¼í•˜ë‹ˆ...ì²«#ìë¥´ê³  ë§ˆì§€ë§‰#ë¶™ì´ê¸°..ì•ì— ìˆë‹¤ë©´ ë–¼ì£¼ê¸°
				let bandBoardRemarks  = $('#saveRemark').val();
				if(bandBoardRemarks!=null){
					if($('#saveRemark').val().indexOf('#')==0){
						bandBoardRemarks = bandBoardRemarks.substr(1);
					}
					if(bandBoardRemarks.lastIndexOf('#')!=bandBoardRemarks.length){
						bandBoardRemarks = bandBoardRemarks+"#";
					}
				}
				console.log("ì¶œë ¥"+bandBoardRemarks);
				data = {bandNo, bandBoardLine, bandBoardName, bandBoardOptionNo, bandBoardOrder, bandBoardOptionNo, bandBoardName, bandLikeOption, bandContentOption, bandBoardAuth, bandBoardRemarks}
			}
			$.ajax({
				url : "/own/band/bandGroup/bandOption9",
				method : "put",
				 beforeSend: function(xhr){
 	                  xhr.setRequestHeader(header,token);
 	                },
				data : JSON.stringify(data),
				contentType : "application/json;"
			}).then( res =>{
				console.log(res);
				//ë³´ë“œë¦¬ìŠ¤íŠ¸ ì €ì¥ë¶„ ìƒˆê±¸ë¡œ ì±„ìš°ê¸°..+ ì´ë¦„ ë°”ê¾¸ê¸°
				console.log(boardListSave+"í—Œê±°");
				boardListSave = res;
				//í˜„ì¬ í´ë¦­ëœê±° í´ë˜ìŠ¤ëª…ìœ¼ë¡œ ì°¾ê¸° $(e.target).addClass('clickBoard');
				console.log($('.clickBoard'));
				//bandBoardLine ë§Œì•½ 0ì´ë©´ bë¡œ 1ì´ë©´ pë¡œ
				let tab = '';
				let boardNumber = $('#numberss').val(); //ê¸€ê°œìˆ˜..
				console.log(boardNumber);
				let text = bandBoardName+" ("+boardNumber+")";
				if(bandBoardLine==1){
					tab = `<li class="boards ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span><p class="clickBoard boardLine" name=${bandBoardOptionNo} id=${bandBoardName}>${text}</p></li>`
				} else {
					tab = `<li class="boards ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span><b class="clickBoard boardLine" name=${bandBoardOptionNo}  id=${bandBoardName}>${bandBoardName}</b></li>`
				}
				$('.clickBoard').parent().replaceWith(tab)
			})
		})
		
		//ê²Œì‹œíŒ ì‚­ì œ
		$('#minn').on('click', function(){
			let bandBoardOptionNo = $('.clickBoard').attr('name');
			let bandNo = $('#bandNo').val();
			if(confirm("<"+$('.clickBoard').attr('id')+">ê°€ ì‚­ì œë©ë‹ˆë‹¤. ê²Œì‹œíŒì¸ ê²½ìš° ê¸€ë„ í•¨ê»˜ ì‚­ì œë˜ë©° ë³µêµ¬í•˜ì‹¤ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")){
				$.ajax({
					url : "/own/band/bandGroup/bandOption9/"+bandBoardOptionNo+"/"+bandNo,
					method : "delete",
					contentType : "application/text; charset=utf-8;",
					 beforeSend: function(xhr){
	 	                  xhr.setRequestHeader(header,token);
	 	                }
				}).then( res =>{
					console.log(res);
					//ì‚­ì œì„±ê³µ
					if(res!=null){
						boardListSave = res;
						alert('ì‚­ì œì„±ê³µ');
						//ì‚­ì œí•œê±° ë¹¼ê¸°
						console.log(boardListSave+"í—Œê±°");
						//cssì²´í¬ëœê±° ì§€ìš°ê¸°
						$('.clickBoard').parent().remove();
						
						//ì²˜ìŒê»„ë¡œ
						let bandBN = (res[0])['bandBoardOptionNo'];
						console.log(bandBN+"ë˜ë‚˜?")
						boardLoad(bandBN);
						//cssë„ë¨¹ì´ê²Œ
						$('p[name='+bandBN+']').addClass('clickBoard');
						
						} else {
						alert('ì‚­ì œì‹¤íŒ¨');
					}
					//ë³´ë“œë¦¬ìŠ¤íŠ¸ ì €ì¥ë¶„ ìƒˆê±¸ë¡œ ì±„ìš°ê¸°..+ ì´ë¦„ ë°”ê¾¸ê¸°
				})
			}
		})
		//ê²Œì‹œíŒ ìƒì„±
		$('#pluu').on('click', function(){
			let bandNo = $('#bandNo').val();
			$.ajax({
				url : "/own/band/bandGroup/bandOption9/insert/"+bandNo,
				method : "delete",
				contentType : "application/text; charset=utf-8;",
				 beforeSend: function(xhr){
 	                  xhr.setRequestHeader(header,token);
 	                }
			}).then( res =>{
				console.log(res);
				//ìƒì„±ì„±ê³µ
				if(res!=null){
					boardListSave = res;
					alert('ìƒì„±ì„±ê³µ');
					console.log(boardListSave+"í—Œê±°");
					//cssì²´í¬ëœê±° ì§€ìš°ê¸°
					$('.clickBoard').removeClass('clickBoard');
					let bandBN = (res[res.length-1])['bandBoardOptionNo'];//ë§ˆì§€ë§‰êº¼..
					console.log(bandBN+"ë˜ë‚˜?")
					tab = `<li class="boards ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span><p class="clickBoard boardLine" name=${bandBN} id="ê²Œì‹œíŒ">ê²Œì‹œíŒ (0)</p></li>`
					boardLoad(bandBN);
				$('#boardListArray').append(tab)
				} else {
					alert('ìƒì„±ì‹¤íŒ¨');
				}
			})
		})
		//êµ¬ë¶„ì„  ìƒì„±
		$('#linn').on('click', function(){
			let bandNo = $('#bandNo').val();
			$.ajax({
				url : "/own/band/bandGroup/bandOption9/insertLine/"+bandNo,
				method : "delete",
				contentType : "application/text; charset=utf-8;",
				 beforeSend: function(xhr){
 	                  xhr.setRequestHeader(header,token);
 	                }
			}).then( res =>{
				console.log(res);
				//ìƒì„±ì„±ê³µ
				if(res!=null){
					boardListSave = res;
					alert('ìƒì„±ì„±ê³µ');
					//ì‚­ì œí•œê±° ë¹¼ê¸°
					console.log(boardListSave+"í—Œê±°");
					//cssì²´í¬ëœê±° ì§€ìš°ê¸°
					$('.clickBoard').removeClass('clickBoard');
					let bandBN = (res[res.length-1])['bandBoardOptionNo'];//ë§ˆì§€ë§‰êº¼..
					console.log(bandBN+"ë˜ë‚˜?")
					tab = `<li class="boards ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span><b class="clickBoard boardLine" name=${bandBN} id=êµ¬ë¶„ì¹´í…Œê³ ë¦¬>êµ¬ë¶„ì¹´í…Œê³ ë¦¬</b></li>`
					boardLoad(bandBN);
				$('#boardListArray').append(tab)
				} else {
					alert('ìƒì„±ì‹¤íŒ¨');
				}
			})
		})
		
		window.setTimeout(function(){
			//jquery sortable
			$('#boardListArray').sortable({
		        placeholder:"itemBoxHighlight", /* ì´ë™í•  ìœ„ì¹˜ css ì ìš©  */
		        start:function(event,ui){
		            // ë“œë˜ê·¸ ì‹œì‘ ì‹œ í˜¸ì¶œ
		        },
		        stop:function(event,ui){
		            // ë“œë˜ê·¸ ì¢…ë£Œ ì‹œ í˜¸ì¶œ
		            reorder();
		        }
			})
			
	        $("#boardListArray").disableSelection();
		    /* ë²ˆí˜¸ ì¬ì…ë ¥(ë‚´ë¶€ì ìœ¼ë¡œ) */
		    function reorder() {
		        $("#sortable li").each(function(i, box) {
		            $(box).val(i + 1);
		        });
		    }
		        
		   },1000);	
		
		
		
	   
	    //ê²Œì‹œíŒ ìˆœì„œ ì´ˆê¸°í™”
	    $('#boardSaveReset').on('click', function(){
	    	$('#mainTemplate').load("/own/band/bandGroup/bandOption9?bandNo="+bandNo);
	    })
	    //ê²Œì‹œíŒ ìˆœì„œ ì €ì¥
	    $('#boardSaveBtn').on('click', function(){
	    	console.log('?')
	    	let boardOrderArray = new Array();
	    	$(".boards").each(function(i, ele) {
	            let bandBoardOptionNo = $(ele).children(':eq(1)').attr('name');
	            let bandBoardOrder = i+1;
	            let s = {bandBoardOptionNo, bandBoardOrder};
	            console.log(s);
	            boardOrderArray.push(s);
	        });
	    	console.log("ì™„ì„±"+boardOrderArray)
	    	console.log("ì™„ì„±"+JSON.stringify(boardOrderArray))
	    	
			$.ajax({
				url : "/own/band/bandGroup/bandOption9",
				method : "post",
				data : JSON.stringify(boardOrderArray),
				contentType : "application/json;",
				 beforeSend: function(xhr){
	                  xhr.setRequestHeader(header,token);
	                }
			}).then( res =>{
				if(res>0){
					alert('ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.')
					let bandNo = $('#bandNo').val();
					location.replace("/own/band/bandGroup?bandNo="+bandNo);
				}
			})
	    	 
	    })
	})
</script>
