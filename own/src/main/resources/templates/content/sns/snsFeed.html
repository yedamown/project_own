<!DOCTYPE html>
<html lang="en">
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>

    <!-- ========== Meta Tags ========== -->
    <meta charset="UTF-8">
    <meta name="description" content="Cocoon -Portfolio">
    <meta name="keywords" content="Cocoon , Portfolio">
    <meta name="author" content="Pharaohlab">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <!-- ========== Title ========== -->
    <title> Cocoon -Portfolio</title>
    <!-- ========== Favicon Ico ========== -->
    <!--<link rel="icon" href="fav.ico">-->
    <!-- ========== STYLESHEETS ========== -->
    <!-- Bootstrap CSS -->
    <link href="/sns/css/bootstrap.min.css" rel="stylesheet">
    <!-- Fonts Icon CSS -->
    <link href="/sns/css/font-awesome.min.css" rel="stylesheet">
    <link href="/sns/css/et-line.css" rel="stylesheet">
    <link href="/sns/css/ionicons.min.css" rel="stylesheet">
    <!-- Carousel CSS -->
    <link href="/sns/css/slick.css" rel="stylesheet">
    <!-- Magnific-popup -->
    <link rel="stylesheet" href="/sns/css/magnific-popup.css">
    <!-- Animate CSS -->
    <link rel="stylesheet" href="/sns/css/animate.min.css">
    <!-- Custom styles for this template -->
    <link href="/sns/css/main.css" rel="stylesheet">

    <style>
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgb(0, 0, 0); /* Fallback color */
            background-color: rgba(0, 0, 0, 0.4); /* Black w/ opacity */
        }
        /* Modal Content/Box */
        .modal-content {
            background-color: #fefefe;
            margin: 0% auto; /* 15% from the top and centered */
            padding: 20px;
            border: 1px solid #888;
            width: 70%; /* Could be more or less, depending on screen size */
            font-size: 16px;
        }
        /* The Close Button */
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        
        .close:hover, .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
        
        .modalBtn {
            font-size: 13px;
        }
        
        #att_zone {
            width: 660px;
            min-height: 150px;
            padding: 10px;
            border: 1px dotted #00f;
        }
        
        #att_zone:empty:before {
            content: attr(data-placeholder);
            color: #999;
            font-size: .9em;
        }
        </style>
</head>
<body>
<div class="loader">
    <div class="loader-outter"></div>
    <div class="loader-inner"></div>
</div>

<div class="body-container container-fluid">
    <a class="menu-btn" href="javascript:void(0)">
        <i class="ion ion-grid"></i>
    </a>
    <div class="row justify-content-center">
        <!--=================== side menu ====================-->
        <div class="col-lg-2 col-md-3 col-12 menu_block">

            <!--logo -->
            <div class="logo_box">
                <a href="#">
                    <img src="/sns/img/logo.png" alt="cocoon">
                </a>
            </div>
            <!--logo end-->

            <!--main menu -->
            <div class="side_menu_section">
                <ul class="menu_nav">
                    <li>
                        <a href="/own/home">
                            Home
                        </a>
                    </li>
                    <li>
                        <a href="about.html">
                            About Us
                        </a>
                    </li>
                    <li>
                        <a href="services.html">
                            Services
                        </a>
                    </li>
                    <li class="active">
                        <a href="/own/snsFeed">
                            ê°œì¸í”¼ë“œ
                        </a>
                    </li>
                    <li>
                        <a href="/own/sns">
                            ë©”ì¸
                        </a>
                    </li>
                    <li>
                        <a href="contact.html">
                            Contact
                        </a>
                    </li>
                </ul>
            </div>
            <!--main menu end -->

            <!--filter menu -->
            <div class="side_menu_section">
                <h4 class="side_title">filter by:</h4>
                <ul  id="filtr-container"  class="filter_nav">
                    <li  data-filter="*" class="active"><a href="javascript:void(0)" >all</a></li>
                    <li data-filter=".branding"> <a href="javascript:void(0)">branding</a></li>
                    <li data-filter=".design"><a href="javascript:void(0)">design</a></li>
                    <li data-filter=".photography"><a href="javascript:void(0)">photography</a></li>
                    <li data-filter=".architecture"><a href="javascript:void(0)">architecture</a></li>
                </ul>
            </div>
            <!--filter menu end -->


            <!--social and copyright -->
            <div class="side_menu_bottom">
                <div class="side_menu_bottom_inner">
                    <ul class="social_menu">
                        <li>
                            <a href="#"> <i class="ion ion-social-pinterest"></i> </a>
                        </li>
                        <li>
                            <a href="#"> <i class="ion ion-social-facebook"></i> </a>
                        </li>
                        <li>
                            <a href="#"> <i class="ion ion-social-twitter"></i> </a>
                        </li>
                        <li>
                            <a href="#"> <i class="ion ion-social-dribbble"></i> </a>
                        </li>
                    </ul>
                    <div class="copy_right">
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                        <p class="copyright">Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a></p>
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                    </div>
                </div>
            </div>
            <!--social and copyright end -->

        </div>
        <!--=================== side menu end====================-->

        <!--=================== content body ====================-->
        <div class="col-lg-10 col-md-9 col-12 body_block  align-content-center">
            <!--=================== filter portfolio start====================-->
            <div id="snsprofilebox"
						style="border: 1px solid black; text-align: center;">
						<br>
						<div class="testimonial_box">
							<div class="testimonial_author">
								<img src="/sns/img/user.png" alt="author"> <span
									th:text="${session.snsInfo.snsNickname}"></span>
								&nbsp;&nbsp;&nbsp;&nbsp;

								<button id="followBtn" value="white"
									style="width: 70px; height: 30px; font-size: 12px; border-color: white;">íŒ”ë¡œìš°</button>
								<br>
								<br> ê²Œì‹œê¸€ ê°¯ìˆ˜<span th:text="${snsFeedCount}"></span>
								
								<h1 class="modalBtn">
									íŒ”ë¡œìš° ìˆ˜<span th:text="${snsFollow}"></span>
								</h1>
									<!-- íŒ”ë¡œìš° Modal -->
									<div class="modal">
										<!-- ì²« ë²ˆì§¸ Modalì˜ ë‚´ìš© -->
										<div class="modal-content">
											<span class="close">&times;</span> 
											<p>ë‚´ê°€ íŒ”ë¡œìš° í•œ ì‚¬ëŒ</p>
												<table border="1px">
													<thead>
														<tr>
															<th>íŒ”ë¡œìš° ëª©ë¡</th>
														</tr>
													</thead>
													<tbody>
														<tr th:each="snsfol : ${snsFollowList}">
															<td th:text="${snsfol.snsNickname}"></td>
													</tbody>
												</table>
										</div>
									</div>
								
								<h1 class="modalBtn">íŒ”ë¡œì›Œ ìˆ˜<span th:text="${snsFollower}"></span></h1>
									<!-- íŒ”ë¡œì›Œ Modal -->
									<div class="modal">
										<!-- ë‘ ë²ˆì§¸ Modalì˜ ë‚´ìš© -->
										<div class="modal-content">
											<span class="close">&times;</span> 
											<p>ë‚˜ë¥¼ íŒ”ë¡œìš° í•œ ì‚¬ëŒ</p>
											<table border="1px">
												<thead>
													<tr>
														<th>íŒ”ë¡œì›Œ ëª©ë¡</th>
													</tr>
												</thead>
												<tbody>
													<tr th:each="snsf : ${snsFList}">
														<td th:text="${snsf.snsNickname}"></td>
												</tbody>
											</table>
										</div>
									</div>
							</div>

							<div th:if="${session.snsInfo.snsProfile != null}">
								<span th:text="${session.snsInfo.snsProfile}"></span>
							</div>
							<div th:if="${session.snsInfo.snsProfile == null}">í”„ë¡œí•„ ì†Œê°œê¸€ì„
								ì…ë ¥í•˜ì„¸ìš”.</div>

							<div th:if="${session.snsInfo.snsWebsite != null}">
								<span th:text="${session.snsInfo.snsWebsite}"></span>
							</div>
							<br>
							<div th:if="${session.snsInfo.snsWebsite == null}">ì›¹ì‚¬ì´íŠ¸ ë§í¬
								ë¹„ì–´ìˆìŒ</div><br>

						</div>

						<img src="/sns/img/user.png" alt="author"> í•˜ì´ë¼ì´íŠ¸
						&nbsp;&nbsp;&nbsp;&nbsp; <img src="/sns/img/user.png" alt="author">
						í•˜ì´ë¼ì´íŠ¸ &nbsp;&nbsp;&nbsp;&nbsp; <img src="/sns/img/user.png"
							alt="author"> í•˜ì´ë¼ì´íŠ¸ &nbsp;&nbsp;&nbsp;&nbsp; <img
							src="/sns/img/user.png" alt="author"> í•˜ì´ë¼ì´íŠ¸
						&nbsp;&nbsp;&nbsp;&nbsp; <img src="/sns/img/user.png" alt="author">
						í•˜ì´ë¼ì´íŠ¸ <br> <br>
					</div><hr>

					<!-- ê¸€ì‘ì„± ëª¨ë‹¬ì„ ì—¬ëŠ” í´ë˜ìŠ¤ -->
					<h1 class="modalBtn" style="text-align: right;">ğŸ“ê¸€ ì‘ì„±</h1>
					<hr>
					<!-- ê¸€ì‘ì„±ëª¨ë‹¬ Modal -->
					<div class="modal">

						<!-- ì„¸ ë²ˆì§¸ Modalì˜ ë‚´ìš© -->
						<div class="modal-content">
							<span class="close">&times;</span>
							<div id="image_preview">
								<!--ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸°-->
								<form action="/own/snsWriteFeed" method="post"
									class="snsWriteFrm" enctype="multipart/form-data">
									<input name="uploadfile" type="file" id="btnAtt"
										multiple="multiple">
									<!--<label for="btnAtt">ì´ë¯¸ì§€ ì²¨ë¶€</label> ë¼ë²¨ì´ ì•ˆë¨¹í˜€ìš” ã… ã…  ë„ì™€ì£¼ì‹¤ë¶„-->

									<div id="att_zone" data-placeholder='ì‚¬ì§„ì„ ì²¨ë¶€í•˜ì„¸ìš”'></div>
									<br>

									<textarea style="width: 600px; height: 200px;"
										name="snsBoardContent" id="inputContent"></textarea>
									<input th:value="${session.loginUser.snsAccountNo}"
										name="snsAccountNo" type="hidden"></input> <input
										type="submit" role="button" value="ê¸€ì“°ê¸°" />
								</form>
							</div>
						</div>
					</div>
					<table border="1px">
						<thead>
							<tr>
								<th>ê²Œì‹œê¸€ ë²ˆí˜¸</th>
								<th>ê¸€ ë‚´ìš©</th>
								<th>ì‘ì„±ì¼ì</th>
								<th>ì‘ì„±ì</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="sns :  ${snsFeed}">
								<td th:text="${sns.snsBoardNo}"></td>
								<td th:text="${sns.snsBoardContent}"></td>
								<td th:text="${sns.snsBoardDate}"></td>
								<td th:text="${sns.snsNickname}"></td>
							</tr>
						</tbody>
					</table>
					<br>

            <div class="portfolio gutters grid img-container">
                <div class="grid-sizer col-sm-12 col-md-6 col-lg-3"></div>

                <th:block th:each="snsimg :${snsImg}">
                    <div class="modalBtn">
                        <input type="hidden" id="boardNo" th:value="${snsimg.identifyId}">
                        <div class="grid-item branding  col-sm-12 col-md-6 col-lg-3">
                            <div class="project_box_one">                      
                                <img th:src="|/imgView/${snsimg.mediaServerFile}" />
                            <div class="product_info">
                                <div class="product_info_text">
                                    <div class="product_info_text_inner">
                                        <i class="ion ion-plus"></i>
                                        <h4>ì¢‹ì•„ìš” ìˆ˜/ ëŒ“ê¸€ ìˆ˜</h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--</a>-->
                </div>
            </th:block>
            </div>
 
            <!-- ë‘ ë²ˆì§¸ Modal -->
            <th:block th:each="snsLength :${snsImg}">
            <div class="modal">
              <!-- ë‘ ë²ˆì§¸ Modalì˜ ë‚´ìš© -->
              <div class="modal-content">
                <span class="close">&times;</span>
                <p id="modalP">ê²Œì‹œê¸€ìƒì„¸ë³´ê¸°</p>
                <table border="1px">
                    <thead>
                        <tr>
                            <th>ê²Œì‹œê¸€ ë²ˆí˜¸</th>
                            <th>ê¸€ ë‚´ìš©</th>
                            <th>ì‘ì„±ì¼ì</th>
                            <th>ì‘ì„±ì</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="sns :  ${snsFeed}">
                            <td th:text="${sns.snsBoardNo}"></td>
                            <td th:text="${sns.snsBoardContent}"></td>
                            <td th:text="${sns.snsBoardDate}"></td>
                            <td th:text="${sns.snsNickname}"></td>
                        </tr>
                    </tbody>
                </table>
              </div>
            </div>
            </th:block>
            <!--=================== filter portfolio end====================-->
        </div>
        <!--=================== content body end ====================-->
    </div>
</div>
	<!--===================ìŠ¤í¬ë¦½íŠ¸====================-->
		<script>
	//ì²¨ë¶€íŒŒì¼ ì´ë¯¸ì§€ 
    ( /* att_zone : ì´ë¯¸ì§€ë“¤ì´ ë“¤ì–´ê°ˆ ìœ„ì¹˜ id, btn : file tag id */
        imageView = function imageView(att_zone, btn){

            var attZone = document.getElementById(att_zone);
            var btnAtt = document.getElementById(btn)
            var sel_files = [];
            
            // ì´ë¯¸ì§€ì™€ ì²´í¬ ë°•ìŠ¤ë¥¼ ê°ì‹¸ê³  ìˆëŠ” div ì†ì„±
            var div_style = 'display:inline-block;position:relative;'
                        + 'width:150px;height:120px;margin:5px;border:1px solid #00f;z-index:1';
            // ë¯¸ë¦¬ë³´ê¸° ì´ë¯¸ì§€ ì†ì„±
            var img_style = 'width:100%;height:100%;z-index:none';
            // ì´ë¯¸ì§€ì•ˆì— í‘œì‹œë˜ëŠ” ì²´í¬ë°•ìŠ¤ì˜ ì†ì„±
            var chk_style = 'width:30px;height:30px;position:absolute;font-size:24px;'
                        + 'right:0px;bottom:0px;z-index:999;background-color:rgba(255,255,255,0.1);color:#f00';
        
            btnAtt.onchange = function(e){
            var files = e.target.files;
            var fileArr = Array.prototype.slice.call(files)
            for(f of fileArr){
                imageLoader(f);
            }
            }  
            
        
            // íƒìƒ‰ê¸°ì—ì„œ ë“œë˜ê·¸ì•¤ ë“œë¡­ ì‚¬ìš©
            attZone.addEventListener('dragenter', function(e){
            e.preventDefault();
            e.stopPropagation();
            }, false)
            
            attZone.addEventListener('dragover', function(e){
            e.preventDefault();
            e.stopPropagation();
            
            }, false)
        
            attZone.addEventListener('drop', function(e){
            var files = {};
            e.preventDefault();
            e.stopPropagation();
            var dt = e.dataTransfer;
            files = dt.files;
            for(f of files){
                imageLoader(f);
            }
            
            }, false)
            

            
            /*ì²¨ë¶€ëœ ì´ë¯¸ë¦¬ì¦ì„ ë°°ì—´ì— ë„£ê³  ë¯¸ë¦¬ë³´ê¸° */
            imageLoader = function(file){
            sel_files.push(file);
            var reader = new FileReader();
            reader.onload = function(ee){
                let img = document.createElement('img')
                img.setAttribute('style', img_style)
                img.src = ee.target.result;
                attZone.appendChild(makeDiv(img, file));
            }
            
            reader.readAsDataURL(file);
            }
            
            /*ì²¨ë¶€ëœ íŒŒì¼ì´ ìˆëŠ” ê²½ìš° checkboxì™€ í•¨ê»˜ attZoneì— ì¶”ê°€í•  divë¥¼ ë§Œë“¤ì–´ ë°˜í™˜ */
            makeDiv = function(img, file){
            var div = document.createElement('div')
            div.setAttribute('style', div_style)
            
            var btn = document.createElement('input')
            btn.setAttribute('type', 'button')
            btn.setAttribute('value', 'x')
            btn.setAttribute('delFile', file.name);
            btn.setAttribute('style', chk_style);
            btn.onclick = function(ev){
                var ele = ev.srcElement;
                var delFile = ele.getAttribute('delFile');
                for(var i=0 ;i<sel_files.length; i++){
                if(delFile== sel_files[i].name){
                    sel_files.splice(i, 1);      
                }
                }
                
                dt = new DataTransfer();
                for(f in sel_files) {
                var file = sel_files[f];
                dt.items.add(file);
                }
                btnAtt.files = dt.files;
                var p = ele.parentNode;
                attZone.removeChild(p)
            }
            div.appendChild(img)
            div.appendChild(btn)
            return div
            }
        }
        )('att_zone', 'btnAtt')

	//íŒ”ë¡œìš° ë²„íŠ¼
    let fBtn = document.getElementById("followBtn");	    
    fBtn.addEventListener("click", function(){
        if(this.value = 'white'){
        console.log('íŒ”ë¡œìš°ë²„íŠ¼ í´ë¦­');
        this.style.backgroundColor = "skyblue";
        this.style.color="white";
        this.value = 'blue';
        this.textContent = "íŒ”ë¡œìš°âœ”";
        }else if (this.value='blue'){
            this.style.backgroundColor = "";
            this.style.color="";
            this.value="white";
        }
    })

    $('.modalBtn').each(function(){
        $(this).on("click", function(){
            console.log(this);
            let boardNo = $(this).children('#boardNo').val();
            console.log(boardNo);
        })
    })


        // Modalì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
        var modals = document.getElementsByClassName("modal");
        // Modalì„ ë„ìš°ëŠ” í´ë˜ìŠ¤ ì´ë¦„ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
        var btns = document.getElementsByClassName("modalBtn");
        // Modalì„ ë‹«ëŠ” close í´ë˜ìŠ¤ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
        var spanes = document.getElementsByClassName("close");
        var funcs = [];
        
        // Modalì„ ë„ìš°ê³  ë‹«ëŠ” í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ì •ì˜í•œ í•¨ìˆ˜
        function Modal(num) {
        return function() {
            // í•´ë‹¹ í´ë˜ìŠ¤ì˜ ë‚´ìš©ì„ í´ë¦­í•˜ë©´ Modalì„ ë„ì›ë‹ˆë‹¤.
            btns[num].onclick =  function() {
                modals[num].style.display = "block";
                event.stopPropagation();
                console.log(num);
          
            };
        
            // <span> íƒœê·¸(X ë²„íŠ¼)ë¥¼ í´ë¦­í•˜ë©´ Modalì´ ë‹«ìŠµë‹ˆë‹¤.
            spanes[num].onclick = function() {
                modals[num].style.display = "none";
 
            };
        };
        }
            
        // ì›í•˜ëŠ” Modal ìˆ˜ë§Œí¼ Modal í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ì„œ funcs í•¨ìˆ˜ì— ì •ì˜í•©ë‹ˆë‹¤.
        for(var i = 0; i < btns.length; i++) {
            funcs[i] = Modal(i);
        }
        
        // ì›í•˜ëŠ” Modal ìˆ˜ë§Œí¼ funcs í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
        for(var j = 0; j < btns.length; j++) {
            funcs[j]();
        }
        
        // Modal ì˜ì—­ ë°–ì„ í´ë¦­í•˜ë©´ Modalì„ ë‹«ìŠµë‹ˆë‹¤.
        window.onclick = function(event) {
        if (event.target.className == "modal") {
            event.target.style.display = "none";
        }
        };


    </script>



<!-- jquery -->
<script src="/sns/js/jquery.min.js"></script>
<!-- bootstrap -->
<script src="/sns/js/popper.js"></script>
<script src="/sns/js/bootstrap.min.js"></script>
<script src="/sns/js/waypoints.min.js"></script>
<!--slick carousel -->
<script src="/sns/js/slick.min.js"></script>
<!--Portfolio Filter-->
<script src="/sns/js/imgloaded.js"></script>
<script src="/sns/js/isotope.js"></script>
<!-- Magnific-popup -->
<script src="/sns/js/jquery.magnific-popup.min.js"></script>
<!--Counter-->
<script src="/sns/js/jquery.counterup.min.js"></script>
<!-- WOW JS -->
<script src="/sns/js/wow.min.js"></script>
<!-- Custom js -->
<script src="/sns/js/main.js"></script>
</body>
</html>